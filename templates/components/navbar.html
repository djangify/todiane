{% load static %}
<nav class="border-b border-[color:var(--color-brand-accent)] bg-white shadow-sm" role="navigation" aria-label="Main navigation">
  <div class="2xl:max-w-screen-2xl 2xl:mx-auto mx-auto px-4 lg:px-10 flex justify-between items-center h-16">

    <!-- Logo -->
    <a href="/" class="flex items-center">
      <img src="{% static 'images/dianec-gray.png' %}" alt="Diane Corriette logo" width="64" height="64" loading="lazy" class="h-8 w-8 object-contain">
      <span class="pl-2 hidden sm:inline-block text-[color:var(--color-font-main)] font-medium uppercase">To Diane</span>
    </a>

    <!-- Desktop Navigation -->
    <ul class="hidden sm:flex items-center gap-6 text-sm font-medium uppercase">
      <li>
        <a href="/" class="text-[color:var(--color-font-main)] hover:text-[color:var(--color-brand-primary)] transition">Home</a>
      </li>
      

      <li>
        <a href="{% url 'blog:list' %}" class="text-[color:var(--color-font-main)] hover:text-[color:var(--color-brand-primary)] transition">Blog</a>
      </li>
    </ul>

    <!-- Right Section -->
    <div class="flex items-center gap-4">
      
      <!-- Shop Button -->
      <a href="/shop/"
         class="uppercase border-2 border-[color:var(--color-brand-primary)] text-[color:var(--color-brand-primary)] text-xs sm:text-sm px-3 py-1.5 rounded font-semibold hover:bg-[color:var(--color-brand-primary)] hover:text-white transition">
        Shop
      </a>
             <!-- Cart Icon -->
        <a href="{% url 'shop:cart_detail' %}" class="relative text-[color:var(--color-brand-primary)] hover:text-[color:var(--color-brand-accent)]">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.2 6h12.4M10 21a1 1 0 11-2 0 1 1 0 012 0zm8 0a1 1 0 11-2 0 1 1 0 012 0z" />
          </svg>
          {% with total_items=cart|length %}
            {% if total_items > 0 %}
              <span class="absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full px-1">{{ total_items }}</span>
            {% endif %}
          {% endwith %}
        </a>
      </div>
      <!-- Hamburger -->
      <button id="menu-toggle" aria-label="Toggle menu"
              aria-expanded="false"
              aria-controls="mobile-menu"
              class="sm:hidden flex flex-col justify-between w-8 h-6 focus:outline-none">
        <span class="block h-0.5 w-full bg-[color:var(--color-brand-accent)] rounded"></span>
        <span class="block h-0.5 w-full bg-[color:var(--color-brand-accent)] rounded"></span>
        <span class="block h-0.5 w-full bg-[color:var(--color-brand-accent)] rounded"></span>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu"
       class="hidden fixed inset-0 z-40 flex-col items-center justify-center bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] py-4 space-y-3 border-t border-[color:var(--color-brand-accent)] backdrop-blur-md sm:hidden">

    <a href="/" class="block w-full text-center py-2 text-[color:var(--color-font-main)] transition">Home</a>
    
    
    <a href="/studio/" class="block w-full text-center py-2 hover:text-[color:var(--color-font-main)] transition font-semibold">Studio</a>
    <a href="{% url 'blog:list' %}" class="block w-full text-center py-2 hover:text-[color:var(--color-font-main)] transition">Blog</a>
  </div>

  <!-- Mobile Menu Script -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const toggle = document.getElementById("menu-toggle");
      const menu = document.getElementById("mobile-menu");

      if (toggle && menu) {
        toggle.addEventListener("click", () => {
          menu.classList.toggle("hidden");
          const expanded = toggle.getAttribute("aria-expanded") === "true";
          toggle.setAttribute("aria-expanded", !expanded);
        });

        menu.querySelectorAll("a").forEach(link => {
          link.addEventListener("click", () => {
            menu.classList.add("hidden");
            toggle.setAttribute("aria-expanded", "false");
          });
        });
      }
    });
  </script>

</nav>
