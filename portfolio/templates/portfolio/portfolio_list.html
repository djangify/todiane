{% extends 'base.html' %}
{% load static %}

{% block title %}Portfolio â€“ Django and TailwindCSS Projects{% endblock %}

{% block content %}
<section class="pageformat space-y-12">

  <!-- Section Header -->
  <div class="space-y-4">
    <h1 class="text-sm pl-6 uppercase relative before:content-[''] before:h-1 before:w-4 before:bg-[color:var(--color-brand-accent)] before:absolute before:top-2/4 before:-translate-y-2/4 before:left-0 lg:text-lg mb-4 text-[color:var(--color-font-main)]">
      My Projects
    </h1>
    <p class="leading-normal text-[color:var(--color-font-main)]">
      Explore my recent work, latest web development projects and experiments.
    </p>
  </div>

  <!-- Technology Filter -->
  <div class="flex flex-wrap gap-3 mb-12">
    {% for tech in technologies %}
      <a href="{% url 'portfolio:portfolio_by_technology' tech.slug %}"
         class="portfolio-pill hover:bg-[color:var(--color-brand-secondary)] transition-colors">
        {{ tech.name }}
      </a>
    {% endfor %}
  </div>

  <!-- Project Grid -->
  {% if not portfolios %}
    <div class="text-center p-8 bg-[color:var(--color-brand-light)] rounded-lg">
      <p class="text-[color:var(--color-font-main)]">No portfolio items available yet.</p>
    </div>
  {% else %}
    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {% for portfolio in portfolios %}
        <article class="flex flex-col rounded-lg overflow-hidden border border-[color:var(--color-brand-accent)] bg-[color:var(--color-brand-light)] hover:shadow-lg transition-shadow">
          {% if portfolio.display_image %}
            <div class="h-48 w-full overflow-hidden">
              <img src="{{ portfolio.display_image }}"
                   alt="{{ portfolio.title }}"
                   class="w-full h-full object-cover transition-transform duration-300 hover:scale-105" />
            </div>
          {% endif %}

          <div class="p-8 flex-grow flex flex-col space-y-4">
            <h3 class="text-xl font-bold text-[color:var(--color-font-main)]">
              {{ portfolio.title }}
            </h3>
            <p class="text-[color:var(--color-brand-accent)]">
              {{ portfolio.short_description|safe }}
            </p>

            <div class="pt-6 mt-auto border-t border-[color:var(--color-brand-accent)]">
              <a href="{% url 'portfolio:portfolio_detail' portfolio.slug %}"
                 class="btn-accent inline-flex items-center gap-2">
                View Details
                <i class="fas fa-arrow-right"></i>
              </a>
            </div>
          </div>
        </article>
      {% endfor %}
    </div>
  {% endif %}
</section>
{% endblock %}
